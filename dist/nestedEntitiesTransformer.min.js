/*
 * JS Embedding Referenced Objects v0.1.0 (https://github.com/the-software-factory/js-embedding-referenced-objects)
 * Copyright (c) 2015 Vendini srl <vendini@pec.it>
 * Licensed under MIT (https://github.com/the-software-factory/js-embedding-referenced-objects/blob/master/LICENSE.md)
 */
 angular.module("vnd.api-resource").factory("nestedEntitiesTransformer",function(){return function(a,b){function c(a,b,d){if(!Array.isArray(b))throw new Error("prop must be an array obtained by splitting the path sting");return 1===b.length&&void 0!==d?(a[b[0]]=d,a[b[0]]):0===b.length?a:c(a[b[0]],b.slice(1),d)}function d(a){var b=this,d=c(f,b.sourcePath.split(".")).filter(function(c){return a[b.destinationId]===c[b.sourceId]})[0];if("object"!=typeof d)throw new Error("No object to nest was found for dependency "+b.sourcePath+":"+b.sourceId+" => "+b.destinationPath+":"+b.destinationId);c(a,b.destinationKeyName.split("."),d)}function e(a){if("string"!=typeof a.destinationPath)throw new Error("The destinationPath option must be a string");if("string"!=typeof a.sourcePath)throw new Error("The sourcePath option must be a strng");if("string"!=typeof a.destinationId)throw new Error("The destinationId option must be a string");if("string"!=typeof a.sourceId)throw new Error("The sourceId option must be a string");if("string"!=typeof a.destinationKeyName)throw new Error("The destinationKeyName must be a string");c(f,a.destinationPath.split(".")).forEach(d,a)}if(!Array.isArray(a))throw new Error("The dependenciesChain must be an array");if("object"!=typeof b||Array.isArray(b))throw new Error("The data source must be an object");var f=angular.copy(b);return a.forEach(e),f}});
